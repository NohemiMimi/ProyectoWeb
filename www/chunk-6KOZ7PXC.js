import{a as B}from"./chunk-QJJMJBXI.js";import"./chunk-PH2QSL2N.js";import"./chunk-LPYXVJJG.js";import"./chunk-HBY4MORH.js";import"./chunk-4COWPKGO.js";import"./chunk-CUVWITEE.js";import"./chunk-HC6MZPB3.js";import"./chunk-WND7HVWL.js";import"./chunk-ITETWYKM.js";import"./chunk-426OJ4HC.js";import"./chunk-B24TMA6E.js";import"./chunk-OHRAIMKX.js";import"./chunk-MM5QLNJM.js";import"./chunk-H3GX5QFY.js";import"./chunk-7D6K5XYM.js";import"./chunk-OBXDPQ3V.js";import"./chunk-BE4RXNZL.js";import"./chunk-MCRJI3T3.js";import"./chunk-FZNGTKS7.js";import"./chunk-NGCJV2CD.js";import{$ as O,A as o,Aa as z,B as P,F as y,G as f,H as u,P as c,Q as w,T as b,U as _,V as x,Wa as j,Xa as D,Y as v,Ya as N,Za as W,aa as S,ab as V,ba as T,da as k,db as A,eb as L,hb as R,i as h,j as C,p as a,q as g,s as M,ta as I,ua as E,v as p,x as s,ya as F,z as i}from"./chunk-42GZSYOM.js";import"./chunk-4H3EC2BX.js";import"./chunk-7KGURMOZ.js";import"./chunk-WAPQ3BUF.js";import"./chunk-3RVCS4YC.js";import"./chunk-ZNWVC66N.js";import"./chunk-G3CV3VGG.js";import"./chunk-LBGEUR6J.js";import"./chunk-HAXAEEDB.js";import"./chunk-3SG6N7GV.js";import"./chunk-4WFVMWDK.js";import"./chunk-4I6HJA6T.js";import"./chunk-NMYJD6OP.js";import"./chunk-B43CU5JX.js";import"./chunk-TQEIIVVC.js";import"./chunk-LF5XB4YN.js";import"./chunk-JHI3MBHO.js";var G=n=>({selected:n});function H(n,m){if(n&1&&(i(0,"span"),c(1),o()),n&2){let e=u().$implicit;a(),w(e.nombre)}}function J(n,m){n&1&&(i(0,"span"),c(1,"\u2714"),o())}function U(n,m){if(n&1){let e=y();i(0,"button",13),f("click",function(){let r=h(e).index,d=u();return C(d.toggleDia(r))}),p(1,H,2,1,"span",14)(2,J,2,0,"span",14),o()}if(n&2){let e=m.$implicit;s("ngClass",v(3,G,e.seleccionado)),a(),s("ngIf",!e.seleccionado),a(),s("ngIf",e.seleccionado)}}var te=(()=>{class n{constructor(e,t){this.navCtrl=e,this.authService=t,this.dias=[{nombre:"L",seleccionado:!1},{nombre:"M",seleccionado:!1},{nombre:"M",seleccionado:!1},{nombre:"J",seleccionado:!1},{nombre:"V",seleccionado:!1},{nombre:"S",seleccionado:!1},{nombre:"D",seleccionado:!1}],this.abrir="",this.cerrar=""}toggleDia(e){this.dias[e].seleccionado=!this.dias[e].seleccionado}guardarSeleccion(){let e=this.dias.filter(t=>t.seleccionado).map(t=>t.nombre);this.abrir&&this.cerrar&&e.length>0?(console.log("Datos antes de enviar:",this.abrir,this.cerrar,e),this.authService.programarRiego(this.abrir,this.cerrar,e).subscribe(t=>{console.log("Riego programado exitosamente:",t),this.navCtrl.navigateForward("/tabs/tab3")},t=>{console.error("Error al programar el riego:",t)})):console.log("Por favor, complete todos los campos.")}static{this.\u0275fac=function(t){return new(t||n)(g(z),g(B))}}static{this.\u0275cmp=M({type:n,selectors:[["app-tab2"]],decls:32,vars:5,consts:[[3,"translucent"],[3,"fullscreen"],[1,"ion-align-items-center"],["size","12",1,"aspersor","ion-text-center"],["size","12",1,"ion-text-center"],["presentation","time",1,"compact-time",3,"ngModelChange","ngModel"],["size","12",1,"ion-text-left"],[1,"ion-padding-top"],["size","12",1,"riego","ion-text-center"],[1,"dias-container"],["class","semana",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ion-text-center","ion-padding-top"],[1,"guardar",3,"click"],[1,"semana",3,"click","ngClass"],[4,"ngIf"]],template:function(t,r){t&1&&(i(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),c(3,"Programar aspersor"),o()()(),i(4,"ion-content",1),P(5,"br")(6,"br"),i(7,"ion-grid")(8,"ion-row",2)(9,"ion-col",3)(10,"p"),c(11,"Abrir:"),o()(),i(12,"ion-col",4)(13,"ion-datetime",5),x("ngModelChange",function(l){return _(r.abrir,l)||(r.abrir=l),l}),o()()()(),i(14,"ion-grid")(15,"ion-row",2)(16,"ion-col",3)(17,"p"),c(18,"Cerrar:"),o()(),i(19,"ion-col",6)(20,"ion-datetime",5),x("ngModelChange",function(l){return _(r.cerrar,l)||(r.cerrar=l),l}),o()()()(),i(21,"ion-grid",7)(22,"ion-row")(23,"ion-col",8)(24,"p"),c(25,"Programar riego semanal"),o()()()(),i(26,"div",9),p(27,U,3,5,"button",10),o(),i(28,"div",11)(29,"button",12),f("click",function(){return r.guardarSeleccion()}),i(30,"p"),c(31,"Guardar"),o()()()()),t&2&&(s("translucent",!0),a(4),s("fullscreen",!0),a(9),b("ngModel",r.abrir),a(7),b("ngModel",r.cerrar),a(7),s("ngForOf",r.dias))},dependencies:[k,O,S,T,W,L,A,D,N,V,j,F,I,E,R],styles:['@charset "UTF-8";ion-toolbar[_ngcontent-%COMP%]{--background: #4CAF50;--color: white;text-align:center}ion-content[_ngcontent-%COMP%]{--background: #C8E6C9;display:flex;justify-content:center;align-items:center;height:100vh;padding:0 16px}ion-grid[_ngcontent-%COMP%]{width:100%;max-width:400px;display:flex;flex-direction:column;justify-content:center;align-items:center}ion-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin-bottom:15px}.aspersor[_ngcontent-%COMP%], .riego[_ngcontent-%COMP%]{font-size:20px;text-align:left;flex:1;margin-right:15px;text-align:center}.datetime-btn[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-radius:5px;padding:10px;width:auto;min-width:120px;text-align:center;flex-shrink:0}ion-datetime-button[_ngcontent-%COMP%]::part(native){background-color:#fff!important;color:#000!important;border-radius:5px;padding:5px 20px}.dias-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}.semana[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-radius:5px;padding:10px;font-size:18px}.semana[_ngcontent-%COMP%]:hover{background-color:#81c784;color:#fff}.semana.selected[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;font-weight:700}.guardar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border-radius:5px;padding:0 90px;font-size:15px;display:block;margin:20px auto}.guardar[_ngcontent-%COMP%]:hover{background-color:#388e3c}@media (max-width: 480px){ion-grid[_ngcontent-%COMP%]{max-width:90%}.datetime-btn[_ngcontent-%COMP%]{min-width:100px;padding:8px}.aspersor[_ngcontent-%COMP%], .riego[_ngcontent-%COMP%]{font-size:16px}}.compact-time[_ngcontent-%COMP%]{width:100%;max-width:200px;font-size:14px;padding:0;border-radius:10px}ion-col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}ion-datetime[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;width:100%;--datetime-width: 100%;--datetime-border-radius: 10px;--minute-increment: 0;--second-increment: 0;--hour-increment: 1;--day-increment: 0;--month-increment: 0;--year-increment: 0;--datetime-color: black}ion-datetime[_ngcontent-%COMP%]::part(native){max-width:100%;display:flex;justify-content:center;align-items:center}']})}}return n})();export{te as Tab2Page};
